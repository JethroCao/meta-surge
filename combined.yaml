# 1. ç³»ç»Ÿå…¨å±€è®¾ç½®
mixed-port: 7890 # Mixed-port ä»£ç†ç«¯å£
redir-port: 7892 # Linux å’Œ macOS çš„ redir ä»£ç†ç«¯å£
allow-lan: false # å…è®¸å±€åŸŸç½‘çš„è¿æ¥
ipv6: false #ipv6å¼€å…³
mode: Rule # è§„åˆ™æ¨¡å¼ï¼šRuleï¼ˆè§„åˆ™ï¼‰ / Globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ Directï¼ˆå…¨å±€ç›´è¿ï¼‰

# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ« (é»˜è®¤çº§åˆ«ï¼šsilentï¼Œå³ä¸è¾“å‡ºä»»ä½•å†…å®¹ï¼Œä»¥é¿å…å› æ—¥å¿—å†…å®¹è¿‡å¤§è€Œå¯¼è‡´ç¨‹åºå†…å­˜æº¢å‡ºï¼‰ã€‚
# 5 ä¸ªçº§åˆ«ï¼šsilent / info / warning / error / debugã€‚çº§åˆ«è¶Šé«˜æ—¥å¿—è¾“å‡ºé‡è¶Šå¤§ï¼Œè¶Šå€¾å‘äºè°ƒè¯•ï¼Œè‹¥éœ€è¦è¯·è‡ªè¡Œå¼€å¯ã€‚
log-level: silent

# Clash çš„ RESTful API
external-controller: "0.0.0.0:9090"

# RESTful API çš„å£ä»¤
secret: ""
# æ‚¨å¯ä»¥å°†é™æ€ç½‘é¡µèµ„æºï¼ˆå¦‚ clash-dashboardï¼‰æ”¾ç½®åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œclash å°†ä¼šæœåŠ¡äº `RESTful API/ui`
# å‚æ•°åº”å¡«å†™é…ç½®ç›®å½•çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚
# external-ui: folder

profile:
  store-selected: true # ä¿å­˜é€‰æ‹©  è®°ä½ä¸Šæ¬¡é€‰æ‹©çš„èŠ‚ç‚¹å’Œç­–ç•¥ç»„
  store-fake-ip: true # ä¿å­˜æ˜ å°„  Fake-IP æ˜ å°„ä»¥åŠ å¿« DNS å‘½ä¸­

# 2. å—…æ¢åŠŸèƒ½
sniffer:
  enable: true # å¯ç”¨å—…æ¢  æå‡åˆ†æµå‡†ç¡®æ€§
  override-destination: true # æˆåŠŸè§£æ  ä½¿ç”¨å—…æ¢åˆ°çš„åŸŸåè¦†ç›–åŸå§‹ç›®æ ‡åœ°å€
  parse-pure-ip: true # åå‘è§£æ  è§£æçº¯ IP è¿æ¥ï¼ˆå°è¯•åå‘è§£æè·å¾—åŸŸåï¼‰
  force-dns-mapping: true # å¼ºåˆ¶æ˜ å°„  DNS æ˜ å°„ï¼ˆå¯¹çº¯ IP è¿æ¥å°è¯• DNS æ˜ å°„ï¼‰
  sniff:
    QUIC:
      ports: [443] # å—…æ¢å‚æ•°  QUIC åè®®æµé‡ï¼ˆHTTP/3 å¸¸ç”¨ç«¯å£ï¼‰
    TLS:
      ports: [443, 8443] # å—…æ¢å‚æ•°  HTTPSï¼ˆTLSï¼‰å¸¸ç”¨åŠå¤‡ç”¨ç«¯å£
    HTTP:
      ports: [80, 8080-8880] # å—…æ¢å‚æ•°  HTTP åŠå¸¸è§ Web / ä»£ç†ç«¯å£æ®µ
      override-destination: true # å—…æ¢æˆåŠŸ  HTTP å—…æ¢æˆåŠŸåè¦†ç›–ç›®æ ‡åœ°å€
  force-domain:
    - "+.netflix.com" # å¼ºåˆ¶å—…æ¢  Netflix ä¸»åŸŸå
    - "+.nflxvideo.net" # å¼ºåˆ¶å—…æ¢  Netflix CDN
    - "+.amazonaws.com" # å¼ºåˆ¶å—…æ¢  AWS äº‘æœåŠ¡
    - "+.media.dssott.com" # å¼ºåˆ¶å—…æ¢  Disney+ æµåª’ä½“
  skip-domain:
    - "+.apple.com" # è·³è¿‡å—…æ¢  è‹¹æœæœåŠ¡
    - Mijia Cloud # è·³è¿‡å—…æ¢  ç±³å®¶äº‘æœåŠ¡
    - dlg.io.mi.com # è·³è¿‡å—…æ¢  å°ç±³è®¾å¤‡é€šä¿¡
    - "+.oray.com" # è·³è¿‡å—…æ¢  èŠ±ç”Ÿå£³æœåŠ¡
    - "+.sunlogin.net" # è·³è¿‡å—…æ¢  å‘æ—¥è‘µè¿œç¨‹æ§åˆ¶
    - "+.push.apple.com" # è·³è¿‡å—…æ¢  è‹¹æœæ¨é€æœåŠ¡

# 3. TUNé…ç½®
tun:
  enable: false # ç½‘å¡æ¨¡å¼  æ˜¯å¦å¯ç”¨ TUN è™šæ‹Ÿç½‘å¡æ¨¡å¼
  stack: system # åè®®ç±»å‹  ç½‘ç»œæ ˆï¼šsystemï¼ˆç³»ç»Ÿæ ˆï¼‰/ gvisorï¼ˆå†…ç½®ç”¨æˆ·æ€æ ˆï¼‰/ mixedï¼ˆæ··åˆï¼‰
  dns-hijack: [0.0.0.0:53] # åŠ«æŒè¯·æ±‚  åŠ«æŒæ‰€æœ‰ UDP/TCP 53 ç«¯å£çš„ DNS è¯·æ±‚
  auto-detect-interface: true # è‡ªåŠ¨å‡ºå£  è‡ªåŠ¨è¯†åˆ«é»˜è®¤å‡ºå£ç½‘ç»œæ¥å£ ï¼ˆä»…å†…æ ¸æ¨¡å¼æœ‰æ•ˆï¼‰
  auto-route: true # è‡ªåŠ¨è·¯ç”±  è‡ªåŠ¨æ·»åŠ ç³»ç»Ÿè·¯ç”±è¡¨      ï¼ˆä»…å†…æ ¸æ¨¡å¼æœ‰æ•ˆï¼‰
  auto-redirect: true # è‡ªåŠ¨å®šå‘  è‡ªåŠ¨å°†æµé‡é‡å®šå‘è‡³ TUN  ï¼ˆä»…å†…æ ¸æ¨¡å¼æœ‰æ•ˆï¼‰
  strict-route: false # è·¯ç”±æ¨¡å¼  ä¸¥æ ¼è·¯ç”±æ¨¡å¼
  endpoint-independent-nat: true # ç«¯ç‚¹æ— å…³  NATï¼ˆæé«˜ NAT ç±»å‹å…¼å®¹æ€§ï¼Œé€‚ç”¨äº P2P å’Œæ¸¸æˆï¼‰

# 4. DNS å¢å¼º
dns:
  enable: true # æ˜¯å¦å¯ç”¨ Clash å†…ç½® DNS (å¿…é¡»ä¸º trueï¼Œå¦åˆ™åç»­åˆ†æµæ— æ•ˆ)
  ipv6: false # æ˜¯å¦è§£æ IPv6 (å»ºè®®è®¾ä¸º falseï¼Œé˜²æ­¢ç”±äº IPv6 ç»•è¿‡åˆ†æµå¯¼è‡´ Gemini ç­‰æœåŠ¡è¯†åˆ«åŒºåŸŸé”™è¯¯)
  use-system-hosts: false # æ˜¯å¦ä½¿ç”¨ç³»ç»Ÿæœ¬åœ°çš„ hosts æ–‡ä»¶ (å»ºè®®å…³é—­ï¼Œå®Œå…¨äº¤ç”± Clash è§„åˆ™æ¥ç®¡)
  listen: 0.0.0.0:53 # DNS æœåŠ¡ç›‘å¬åœ°å€ (53 ä¸ºæ ‡å‡†ç«¯å£ï¼›åœ¨ Mac/Linux ä¸Šå¼€å¯æ­¤é¡¹é€šå¸¸éœ€è¦ sudo æƒé™)
  enhanced-mode: fake-ip # å¢å¼ºæ¨¡å¼ï¼šfake-ip (æ ¸å¿ƒè®¾ç½®ï¼šç«‹å³è¿”å›ä¸€ä¸ªè™šå‡ IPï¼Œè®©è¿æ¥ç§’å¼€ï¼Œè§£æç•™ç»™åå°å¤„ç†)
  fake-ip-range: 198.18.0.1/16 # Fake-IP çš„åœ°å€æ± èŒƒå›´ (è¿™æ˜¯ Clash é¢„ç•™çš„ç§æœ‰ç½‘æ®µï¼Œä¸ä¼šä¸ä½ å…¬å¸å†…ç½‘å†²çª)
  # Fake-IP è¿‡æ»¤ æ’é™¤åˆ—è¡¨
  fake-ip-filter:
    - "*.lan"
    - "stun.*.*.*"
    - "stun.*.*"
    - "time.windows.com"
    - "time.nist.gov"
    - "time.apple.com"
    - "time.asia.apple.com"
    - "*.ntp.org.cn"
    - "*.openwrt.pool.ntp.org"
    - "time1.cloud.tencent.com"
    - "time.ustc.edu.cn"
    - "pool.ntp.org"
    - "ntp.ubuntu.com"
    - "ntp.aliyun.com"
    - "ntp1.aliyun.com"
    - "ntp2.aliyun.com"
    - "ntp3.aliyun.com"
    - "ntp4.aliyun.com"
    - "ntp5.aliyun.com"
    - "ntp6.aliyun.com"
    - "ntp7.aliyun.com"
    - "time1.aliyun.com"
    - "time2.aliyun.com"
    - "time3.aliyun.com"
    - "time4.aliyun.com"
    - "time5.aliyun.com"
    - "time6.aliyun.com"
    - "time7.aliyun.com"
    - "*.time.edu.cn"
    - "time1.apple.com"
    - "time2.apple.com"
    - "time3.apple.com"
    - "time4.apple.com"
    - "time5.apple.com"
    - "time6.apple.com"
    - "time7.apple.com"
    - "time1.google.com"
    - "time2.google.com"
    - "time3.google.com"
    - "time4.google.com"
    - "music.163.com"
    - "*.music.163.com"
    - "*.126.net"
    - "musicapi.taihe.com"
    - "music.taihe.com"
    - "songsearch.kugou.com"
    - "trackercdn.kugou.com"
    - "*.kuwo.cn"
    - "api-jooxtt.sanook.com"
    - "api.joox.com"
    - "joox.com"
    - "y.qq.com"
    - "*.y.qq.com"
    - "streamoc.music.tc.qq.com"
    - "mobileoc.music.tc.qq.com"
    - "isure.stream.qqmusic.qq.com"
    - "dl.stream.qqmusic.qq.com"
    - "aqqmusic.tc.qq.com"
    - "amobile.music.tc.qq.com"
    - "*.xiami.com"
    - "*.music.migu.cn"
    - "music.migu.cn"
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - "localhost.ptlogin2.qq.com"
    - "*.*.*.srv.nintendo.net"
    - "*.*.stun.playstation.net"
    - "xbox.*.*.microsoft.com"
    - "*.ipv6.microsoft.com"
    - "*.*.xboxlive.com"
    - "speedtest.cros.wr.pvp.net"
    - "rule-set:cn_domain"

  # é»˜è®¤ DNS (Bootstrap DNS)
  default-nameserver:
    - system
    - 180.76.76.76
    - 182.254.118.118
    - 8.8.8.8
    - 180.184.2.2
    - 223.5.5.5
    - "2400:3200::1"

  # ä¸»è¦ DNS (DoH/DoT)
  nameserver:
    - https://223.5.5.5/dns-query#skip-cert-verify=true
    - https://doh.pub/dns-query#skip-cert-verify=true
    - https://dns.alidns.com/dns-query#skip-cert-verify=true
    - tls://223.5.5.5#skip-cert-verify=true
    - tls://dot.pub#skip-cert-verify=true
    - tls://dns.alidns.com#skip-cert-verify=true
    - https://223.6.6.6/dns-query#skip-cert-verify=true&h3=true
    - https://cloudflare-dns.com/dns-query#skip-cert-verify=true

  # ä»£ç†èŠ‚ç‚¹ä½¿ç”¨çš„ DNS
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query#skip-cert-verify=true
    - https://doh.pub/dns-query#skip-cert-verify=true
    - https://dns.alidns.com/dns-query#skip-cert-verify=true

  # å›é€€è¿‡æ»¤å™¨
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
      - 127.0.0.1/32
    domain:
      - "+.google.com"
      - "+.facebook.com"
      - "+.twitter.com"
      - "+.youtube.com"
      - "+.xn--ngstr-lra8j.com"
      - "+.google.cn"
      - "+.googleapis.cn"
      - "+.googleapis.com"
      - "+.gvt1.com"

# 5. åŠ¨æ€èŠ‚ç‚¹æ¥æº
proxy-providers:
  provider_a: # ä»£ç†é›†æä¾›è€…çš„è‡ªå®šä¹‰åç§°ï¼Œåç»­åœ¨ proxy-groups ä¸­é€šè¿‡ use: [provider_a] å¼•ç”¨
    type: http # ç±»å‹ä¸º HTTPï¼Œè¡¨ç¤ºé€šè¿‡ç½‘ç»œè¿œç¨‹è·å–èŠ‚ç‚¹åˆ—è¡¨
    url: "https://example.com/subscribe/your-token" # è®¢é˜…é“¾æ¥ï¼ˆè¯·æ›¿æ¢ä¸ºè‡ªå·±çš„åœ°å€ï¼‰
    interval: 3600 # è‡ªåŠ¨æ›´æ–°é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼ˆ3600s = 1å°æ—¶ï¼‰ï¼Œå†…æ ¸ä¼šè‡ªåŠ¨é‡æ–°æ‹‰å–æœ€æ–°èŠ‚ç‚¹
    path: ./provider_a.yaml # æœ¬åœ°å­˜å‚¨è·¯å¾„ï¼Œä¸‹è½½çš„èŠ‚ç‚¹æ•°æ®ä¼šç¼“å­˜åˆ°æ­¤æ–‡ä»¶ï¼Œç¡®ä¿æ–­ç½‘é‡å¯åä»èƒ½è¯»å–æ—§èŠ‚ç‚¹
    health-check: # èŠ‚ç‚¹å¥åº·æ£€æŸ¥ï¼ˆå»¶è¿Ÿæµ‹è¯•ï¼‰è®¾ç½®
      { enable: true, interval: 600, url: http://www.gstatic.com/generate_204 }
  provider_b:
    type: http
    url: "https://example.com/subscribe/your-token"
    interval: 3600
    path: ./provider_b.yaml
    health-check:
      { enable: true, interval: 600, url: http://www.gstatic.com/generate_204 }

# 6. è§„åˆ™
# i.é”šç‚¹å®šä¹‰ (ç”¨äºå‡å°‘é…ç½®æ–‡ä»¶å†—ä½™ï¼Œå®ç°ä¸€é”®ä¿®æ”¹å…¨å±€è§„åˆ™å±æ€§)
rule-anchor:
  # åŸŸåè§„åˆ™æ¨¡æ¿ï¼šé€‚ç”¨äºæ‰€æœ‰ä»¥åŸŸååŒ¹é…ä¸ºä¸»çš„è§„åˆ™é›†
  domain: &Anchor_DN
    type: http # è§„åˆ™ç±»å‹ï¼šä»è¿œç¨‹ URL è·å–ï¼ˆHTTP/HTTPSï¼‰
    interval: 86400 # æ›´æ–°é¢‘ç‡ï¼šå•ä½ä¸ºç§’ï¼Œ86400 ç§’å³æ¯ 24 å°æ—¶è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡
    behavior: domain # åŒ¹é…è¡Œä¸ºï¼šåŸŸåæ¨¡å¼ï¼ˆå†…æ ¸ä¼šä¼˜åŒ–åŸŸåæ£€ç´¢ç®—æ³•ï¼‰
    format: mrs # è§„åˆ™æ ¼å¼ï¼šMeta Rule Set äºŒè¿›åˆ¶æ ¼å¼ï¼ˆä½“ç§¯æœ€å°ã€è§£ææœ€å¿«ï¼Œç‰¹åˆ«é€‚åˆæ‰‹æœºç«¯çœç”µï¼‰
  # IP è§„åˆ™æ¨¡æ¿ï¼šé€‚ç”¨äºæ‰€æœ‰ä»¥ IP åœ°å€æ®µåŒ¹é…ä¸ºä¸»çš„è§„åˆ™é›†
  ip: &Anchor_IP
    type: http # è§„åˆ™ç±»å‹ï¼šè¿œç¨‹è·å–
    interval: 86400 # æ›´æ–°é¢‘ç‡ï¼š24 å°æ—¶
    behavior: ipcidr # åŒ¹é…è¡Œä¸ºï¼šIP ç½‘æ®µæ¨¡å¼ï¼ˆç”¨äºåŒ¹é… CIDR æ ¼å¼çš„ IP åœ°å€ï¼‰
    format: mrs # è§„åˆ™æ ¼å¼ï¼šMeta Rule Set äºŒè¿›åˆ¶æ ¼å¼ï¼ˆä½“ç§¯æœ€å°ã€è§£ææœ€å¿«ï¼Œç‰¹åˆ«é€‚åˆæ‰‹æœºç«¯çœç”µï¼‰
# ii. è§„åˆ™æ¥æº
rule-providers:
  # å¼•ç”¨ &Anchor_DN æ¨¡æ¿ï¼šè‡ªåŠ¨å¡«å…¥ http ç±»å‹ã€24å°æ—¶æ›´æ–°ã€domain è¡Œä¸ºåŠ MRS æ ¼å¼
  private_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs",
    }
  speedtest_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs",
    }
  ai_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ai-!cn.mrs",
    }
  github_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs",
    }
  youtube_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs",
    }
  google_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs",
    }
  onedrive_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs",
    }
  microsoft_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs",
    }
  appletv_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple-tvplus.mrs",
    }
  apple_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs",
    }
  tiktok_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs",
    }
  twitter_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/twitter.mrs",
    }
  telegram_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs",
    }
  netflix_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs",
    }
  disney_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/disney.mrs",
    }
  spotify_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/spotify.mrs",
    }
  paypal_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/paypal.mrs",
    }
  geolocation-!cn:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs",
    }
  cn_domain:
    {
      <<: *Anchor_DN,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs",
    }

  apple_ip:
    {
      <<: *Anchor_IP,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/apple.mrs",
    }
  private_ip:
    {
      <<: *Anchor_IP,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs",
    }
  google_ip:
    {
      <<: *Anchor_IP,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs",
    }
  telegram_ip:
    {
      <<: *Anchor_IP,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs",
    }
  twitter_ip:
    {
      <<: *Anchor_IP,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/twitter.mrs",
    }
  netflix_ip:
    {
      <<: *Anchor_IP,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs",
    }
  cn_ip:
    {
      <<: *Anchor_IP,
      url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs",
    }

# 7. ç­–ç•¥ç»„
proxy-groups:
  # è°·æ­Œä¸“ç”¨ç»„ï¼šä¸“é—¨ä¸º Googleã€Gemini ç­‰æœåŠ¡å‡†å¤‡
  - name: "ğŸ” Google"
    type: select # æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼ï¼šå¯ä»¥åœ¨ UI ç•Œé¢ç‚¹å‡»åˆ‡æ¢ä¸åŒèŠ‚ç‚¹
    use: [provider_a] # å¼•ç”¨ proxy-providers ä¸­å®šä¹‰çš„ provider_a èŠ‚ç‚¹æº
    # æ­£åˆ™è¿‡æ»¤å™¨ï¼š(?i) è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ã€‚
    # é€»è¾‘ï¼šåªä» provider_a è®¢é˜…ä¸­ç­›é€‰å‡ºåç§°åŒ…å«â€œç¾å›½ã€USã€USAâ€æˆ–ç¾å›½å›½æ——å›¾æ ‡çš„èŠ‚ç‚¹ã€‚
    filter: "(?i)ç¾å›½|US|USA|ğŸ‡ºğŸ‡²|ğŸ‡ºğŸ‡¸"
  # é«˜é€Ÿè§†é¢‘/å¤§æµé‡ç»„ï¼šé€‚ç”¨äº YouTubeã€Netflixã€TikTok ç­‰
  - name: "ğŸš€ é«˜é€Ÿè§†é¢‘"
    type: select # æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼
    # è”åˆå¼•ç”¨ï¼šåŒæ—¶ä»â€œprovider_bâ€å’Œâ€œprovider_aâ€ä¸¤ä¸ªè®¢é˜…æºä¸­æŠ“å–èŠ‚ç‚¹ã€‚
    use: [provider_b, provider_a]
    # è¿‡æ»¤å™¨é€»è¾‘ï¼šç­›é€‰å‡ºé¦™æ¸¯ã€æ–°åŠ å¡ç­‰ä½å»¶è¿ŸèŠ‚ç‚¹ï¼Œæˆ–è€…åŒ…å« Akariã€IEPLã€IPLC ç­‰ä»£è¡¨é«˜å¸¦å®½/ä¸“çº¿ç‰¹å¾çš„èŠ‚ç‚¹ã€‚
    # è¿™æ ·å¯ä»¥ç¡®ä¿çœ‹ 4K è§†é¢‘æˆ–åˆ·çŸ­è§†é¢‘æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨è¿™äº›é«˜è´¨é‡é€šé“ã€‚
    filter: "(?i)é¦™æ¸¯|æ–°åŠ å¡|HK|SG|Akari|IEPL|IPLC"
  - name: "ğŸ¤– ChatGPT"
    type: select
    use: [provider_a]
    filter: "(?i)AI-Optimized|GPT|ç¾å›½|US"
  - name: "ğŸ™ GitHub"
    type: select
    use: [provider_b, provider_a]
    filter: "(?i)é¦™æ¸¯|æ–°åŠ å¡|HK|SG|IEPL"
  - name: "ğŸ Apple"
    type: select
    use: [provider_b]
  - name: "ğŸ’³ PayPal"
    type: select
    use: [provider_b]
  - name: "â“‚ï¸ Microsoft"
    type: select
    use: [provider_a]
  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    use: [provider_a, provider_b]
# 8. è§„åˆ™åŒ¹é… (éµå¾ªä»ä¸Šåˆ°ä¸‹çš„åŒ¹é…åŸåˆ™ï¼Œé¦–ä½å‘½ä¸­å³åœæ­¢)
rules:
  # æœåŠ¡åˆ†æµ
  # --- ç¬¬ä¸€å±‚ï¼šæœ¬åœ°ä¸ç§æœ‰ç½‘ç»œ (ç¡®ä¿å±€åŸŸç½‘è®¿é—®ä¸èµ°ä»£ç†) ---

  # åŒ¹é…ç§æœ‰ IP æ®µï¼ˆå¦‚ 192.168.x.xï¼‰ï¼Œç›´æ¥è¿æ¥ã€‚
  # no-resolve: å‘ŠçŸ¥å†…æ ¸å¦‚æœåŸŸåå·²åŒ¹é…ï¼Œåˆ™ä¸è¦å°è¯•è§£æ IPï¼Œé˜²æ­¢ DNS æ³„éœ²å¹¶æå‡é€Ÿåº¦ã€‚
  - RULE-SET,private_ip,DIRECT,no-resolve

  # åŒ¹é…ç§æœ‰åŸŸåï¼ˆå¦‚ router.lan, localhostï¼‰ï¼Œç›´æ¥è¿æ¥ã€‚
  - RULE-SET,private_domain,DIRECT

  # --- ç¬¬äºŒå±‚ï¼šæ ¸å¿ƒæœåŠ¡ç²¾å‡†åˆ†æµ (ç‰¹ç§éƒ¨é˜Ÿï¼Œå®šå‘åŠ é€Ÿ) ---

  # è°·æ­Œç›¸å…³æœåŠ¡ï¼ˆåŒ…æ‹¬æœç´¢ã€Gemini ç­‰ï¼‰ï¼Œé€å…¥ä¸“ç”¨ç»„ã€‚
  - RULE-SET,google_domain,ğŸ” Google

  # AI ç›¸å…³çš„æœåŠ¡ï¼ˆå¦‚ OpenAI, Claude, DeepSeek ç­‰æµ·å¤–æ¥å£ï¼‰ï¼Œé€å…¥ AI ä¸“ç”¨ç»„ã€‚
  - RULE-SET,ai_domain,ğŸ¤– ChatGPT

  # å¼€å‘è€…å¿…å¤‡ï¼šGitHub ç›¸å…³åŸŸåï¼Œç¡®ä¿ä»£ç æ¨é€å’Œä¾èµ–æ‹‰å–ç¨³å®šã€‚

  # --- ç¬¬ä¸‰å±‚ï¼šå¤§æµé‡åª’ä½“åˆ†æµ (ä¿éšœ 4K è§†é¢‘ä¸å¡é¡¿) ---

  # è§†é¢‘æµåª’ä½“ï¼šæŒ‡å‘â€œé«˜é€Ÿè§†é¢‘â€ç»„ï¼Œé€šå¸¸ç­›é€‰é¦™æ¸¯æˆ–æ–°åŠ å¡ç­‰é«˜å¸¦å®½èŠ‚ç‚¹ã€‚
  - RULE-SET,github_domain,ğŸ™ GitHub
  - RULE-SET,youtube_domain,ğŸš€ é«˜é€Ÿè§†é¢‘
  - RULE-SET,appletv_domain,ğŸš€ é«˜é€Ÿè§†é¢‘
  - RULE-SET,apple_domain,ğŸ Apple
  - RULE-SET,tiktok_domain,ğŸš€ é«˜é€Ÿè§†é¢‘
  - RULE-SET,twitter_domain,ğŸš€ é«˜é€Ÿè§†é¢‘
  - RULE-SET,telegram_domain,ğŸš€ é«˜é€Ÿè§†é¢‘
  - RULE-SET,netflix_domain,ğŸš€ é«˜é€Ÿè§†é¢‘
  - RULE-SET,disney_domain,ğŸš€ é«˜é€Ÿè§†é¢‘
  - RULE-SET,spotify_domain,ğŸš€ é«˜é€Ÿè§†é¢‘
  - RULE-SET,paypal_domain,ğŸ’³ PayPal
  - RULE-SET,onedrive_domain,â“‚ï¸ Microsoft
  - RULE-SET,microsoft_domain,â“‚ï¸ Microsoft

  # éä¸­å›½ IP èµ°ä»£ç†
  - RULE-SET,geolocation-!cn,ğŸŸ æ¼ç½‘ä¹‹é±¼

  # IP è§„åˆ™
  - RULE-SET,google_ip,ğŸ” Google,no-resolve
  - RULE-SET,apple_ip,ğŸ Apple,no-resolve
  - RULE-SET,netflix_ip,ğŸš€ é«˜é€Ÿè§†é¢‘,no-resolve
  - RULE-SET,telegram_ip,ğŸš€ é«˜é€Ÿè§†é¢‘,no-resolve
  - RULE-SET,twitter_ip,ğŸš€ é«˜é€Ÿè§†é¢‘,no-resolve

  # å›½å†…ä¸å…œåº•
  - RULE-SET,cn_domain,DIRECT
  - RULE-SET,cn_ip,DIRECT,no-resolve
  - GEOIP,CN,DIRECT,no-resolve
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
